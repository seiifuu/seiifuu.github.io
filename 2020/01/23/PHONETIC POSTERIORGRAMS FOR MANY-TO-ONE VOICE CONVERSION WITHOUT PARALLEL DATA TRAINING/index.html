<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://seiifuu.github.io').hostname,
    root: '/',
    scheme: 'Pisces',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"mac"},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    bookmark: {"enable":true,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: true,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":5,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="PHONETIC POSTERIORGRAMS FOR MANY-TO-ONE VOICE CONVERSION WITHOUT PARALLEL DATA TRAINING  基于音素后验图不使用平行数据训练的多到一的声音转换 http:&#x2F;&#x2F;www1.se.cuhk.edu.hk&#x2F;~lfsun&#x2F;ICME2016_Lifa_Sun.pdf  0. 摘要 这篇文章提出了一种新颖的使用非平行训练数据的">
<meta property="og:type" content="article">
<meta property="og:title" content="PHONETIC POSTERIORGRAMS FOR MANY-TO-ONE VOICE CONVERSION WITHOUT PARALLEL DATA TRAINING 译">
<meta property="og:url" content="https://seiifuu.github.io/2020/01/23/PHONETIC%20POSTERIORGRAMS%20FOR%20MANY-TO-ONE%20VOICE%20CONVERSION%20WITHOUT%20PARALLEL%20DATA%20TRAINING/index.html">
<meta property="og:site_name" content="僞造菌群">
<meta property="og:description" content="PHONETIC POSTERIORGRAMS FOR MANY-TO-ONE VOICE CONVERSION WITHOUT PARALLEL DATA TRAINING  基于音素后验图不使用平行数据训练的多到一的声音转换 http:&#x2F;&#x2F;www1.se.cuhk.edu.hk&#x2F;~lfsun&#x2F;ICME2016_Lifa_Sun.pdf  0. 摘要 这篇文章提出了一种新颖的使用非平行训练数据的">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://seiifuu.github.io/images/0121_PPGforM2O/f4_ppgs.png">
<meta property="og:image" content="https://seiifuu.github.io/images/0121_PPGforM2O/f2_DBLSTM_parallel_data.png">
<meta property="og:image" content="https://seiifuu.github.io/images/0121_PPGforM2O/f3_vc_PPGs.png">
<meta property="og:image" content="https://seiifuu.github.io/images/0121_PPGforM2O/f1_architecture_DBLSTM.png">
<meta property="og:image" content="https://seiifuu.github.io/images/0121_PPGforM2O/f2_DBLSTM_parallel_data.png">
<meta property="og:image" content="https://seiifuu.github.io/images/0121_PPGforM2O/f3_vc_PPGs.png">
<meta property="og:image" content="https://seiifuu.github.io/images/0121_PPGforM2O/f4_ppgs.png">
<meta property="og:image" content="https://seiifuu.github.io/images/0121_PPGforM2O/f5_train_DBLSTM.png">
<meta property="og:image" content="https://seiifuu.github.io/images/0121_PPGforM2O/f6_f7_MCD.png">
<meta property="og:image" content="https://seiifuu.github.io/images/0121_PPGforM2O/f8_MOS.png">
<meta property="og:image" content="https://seiifuu.github.io/images/0121_PPGforM2O/f9_ABX.png">
<meta property="article:published_time" content="2020-01-22T15:00:00.000Z">
<meta property="article:modified_time" content="2020-01-23T08:06:47.062Z">
<meta property="article:author" content="Fuu">
<meta property="article:tag" content="PPGs">
<meta property="article:tag" content="voice conversion">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://seiifuu.github.io/images/0121_PPGforM2O/f4_ppgs.png">

<link rel="canonical" href="https://seiifuu.github.io/2020/01/23/PHONETIC%20POSTERIORGRAMS%20FOR%20MANY-TO-ONE%20VOICE%20CONVERSION%20WITHOUT%20PARALLEL%20DATA%20TRAINING/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>PHONETIC POSTERIORGRAMS FOR MANY-TO-ONE VOICE CONVERSION WITHOUT PARALLEL DATA TRAINING 译 | 僞造菌群</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">僞造菌群</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/seiifuu" class="github-corner" title="WZJQ GitHub" aria-label="WZJQ GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="https://seiifuu.github.io/2020/01/23/PHONETIC%20POSTERIORGRAMS%20FOR%20MANY-TO-ONE%20VOICE%20CONVERSION%20WITHOUT%20PARALLEL%20DATA%20TRAINING/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Fuu">
      <meta itemprop="description" content="Don't be afraid !">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="僞造菌群">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          PHONETIC POSTERIORGRAMS FOR MANY-TO-ONE VOICE CONVERSION WITHOUT PARALLEL DATA TRAINING 译
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-23 00:00:00 / Modified: 17:06:47" itemprop="dateCreated datePublished" datetime="2020-01-23T00:00:00+09:00">2020-01-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/voice-conversion/" itemprop="url" rel="index">
                    <span itemprop="name">voice conversion</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="phonetic-posteriorgrams-for-many-to-one-voice-conversion-without-parallel-data-training">PHONETIC POSTERIORGRAMS FOR MANY-TO-ONE VOICE CONVERSION WITHOUT PARALLEL DATA TRAINING</h2>
<blockquote>
<p>基于音素后验图不使用平行数据训练的多到一的声音转换</p>
<p>http://www1.se.cuhk.edu.hk/~lfsun/ICME2016_Lifa_Sun.pdf</p>
</blockquote>
<h3 id="摘要">0. 摘要</h3>
<p>这篇文章提出了一种新颖的使用非平行训练数据的声音转换方法。这个想法通过使用由SI-ASR获得的PPGs的均值联系不同的说话者。方法假设PPGs可以代表说话者标准化空间中的语音发音，并且独立于说话者对应的语音内容。提议的方法首先获取目标说话者(target speech)的PPGs。随后使用基于深双向长短期记忆的递归神经网络(DBLSTM)对目标说话者的PPGs与声学特征之间的关系进行建模。为了转换任意的源语音，我们从相同的SI-ARS中获得PPGs，并将其输入一个已训练的DBLSTM中生成转换的语音。我们的方法有两个主要的优点：1）不需要平行的训练数据;2）一个训练模型可以应用在任意源说话者上转换为固定的目标说话者。实验表明，我们的方法与目前最好的系统相比在语音质量和与说话者的相似度上有相当或者更胜的表现。 <a id="more"></a></p>
<h3 id="图片">00. 图片</h3>
<p><strong>PPGs</strong></p>
<p><img src="/images/0121_PPGforM2O/f4_ppgs.png" style="zoom:67%;" /></p>
<p><strong>Baseline</strong></p>
<p><img src="/images/0121_PPGforM2O/f2_DBLSTM_parallel_data.png" style="zoom: 80%;" /></p>
<p><strong>Proposal</strong></p>
<p><img src="/images/0121_PPGforM2O/f3_vc_PPGs.png" style="zoom:80%;" /></p>
<h3 id="概述">1. 概述</h3>
<blockquote>
<p>半机翻</p>
</blockquote>
<p>​ 语音转换（Voice conversion，VC）旨在修改一个说话人的语音，使其听起来像是由另一个特定的说话人说的。VC可广泛应用于计算机辅助语音修剪系统的个性化反馈、语音障碍对象的个性化语音辅助工具开发、不同人声的电影配音等领域。</p>
<p>​ 经典的VC的工作方法如下：首先将说相同内容的语音片段(e.g. frames)对齐。而后，建立source 声学特征与 target 声学特征的映射。以前的许多VC研究都依赖于并行训练数据，在并行训练数据中，源说话人和目标说话人同时说出相同的句子来进行语音记录。<u>Stylianou et al. [1]</u> 提出一种基于高斯混合模型（GMMs）的连续概率变换方法。<u>Toda et al. [2]</u>通过使用全局方差来减轻过度平滑效果，提高了基于GMM的方法的性能。<u>Wu et al. [3]</u> 提出了一种基于非负矩阵分解的语音样本直接合成转换语音的方法。<u>Nakashika et al. [4]</u> 采用深度神经网络（DNN）对高阶空间中的源和目标进行映射。<u>Sun et al. [5]</u> 提出了一种基于深度双向长短期记忆的递归神经网络（DBLSTM）方法，利用语音的频谱特征和上下文信息(context information)来建立源语音和目标语音之间的关系模型。</p>
<blockquote>
<p>平行数据训练的VC的发展简述</p>
</blockquote>
<p>​ 上面提到的方法都有较好的效果。但是，在实际中平行数据是不容易得到的。因此，一些研究者提出了一些使用非平行数据的VC方法，这是一个更加有挑战的问题。大部分方法都着眼于寻找合适的帧对齐(frame alignments)这并不是直接明了的。Erro et al. [6] 提出了一种迭代对齐方法，对非平行话语中的语音等效声矢量进行配对。Tao et al. [7] 提出了一种以语音信息为约束的监控数据对齐方法。Siĺen et al. [8] 将动态核偏最小二乘回归方法与迭代对准算法相结合，对非并行数据进行了扩展。Benisty et al. [9] 利用时间上下文信息提高非并行数据的迭代对齐精度。</p>
<p>​ 不幸的是，实验结果[6-9]表明，非并行数据的VC性能不如并行数据的VC。这种结果是合理的，因为很难使非平行对准和平行对准一样精确。Aryal et al. [10] 提出了一种完全不同的方法，利用electromagnetic articulography（EMA）估计的发音行为(articulatory behavior)。基于不同的说话人在说相同的语音内容时具有相同的发音行为（如果他们的发音区域是标准化的）的信念，作者将标准化的EMA特征作为源说话人和目标说话人之间的桥梁。在将目标说话者的EMA features特征映射到声学特征进行建模之后，声音转换可以通过驱动一个使用源说话者EMA特征训练的模型来实现。</p>
<blockquote>
<p>[10] proposed a very different approach that made use of articulatory behavior estimated by electromagnetic articulography (EMA). With the belief that different speakers have the same articulatory behavior (if their articulatory areas are normalized) when they speak the same spoken content, the authors took normalized EMA features as a bridge between the source and target speakers. After modeling the mapping between EMA features and acoustic features of the target speaker, VC can beachieved by driving the trained model with EMA features of the source speaker.</p>
</blockquote>
<p>​ 我们的方法受到[10]的启发。但是我们使用更加容易得到的PPGs作为说话者之间的桥梁，替代掉需要非常昂贵获得的EMA特征。PPG是一个时间与类别(time-versus-class)的矩阵，表示一个语句中每一个特定时间帧对应每一个音素类别的概率[11, 12]。<u>1]我们提出的方法应用一个独立于说话者的自动语音识别系统(SI-ASR)来生成PPGs用来均衡说话者的差异。2]然后，我们使用DBLSTM结构对得到的PPGs和对应的目标说话者的声学特征进行建模，为了生成语音参数。3]最后我们通过使用源说话者的PPGs(来自相同的SI-ASR模型)来驱动训练好的DBLSTM模型进行声音转换。</u> 注意我们没有使用除来自SI-ASR的PPGs之外的其他语音内容信息。我们提出的方法有以下几个优点：1. 不需要平行训练数据 2. 不需要对齐，可以避免可能的对齐错误产生的影响 3. 训练的模型可以被用在别的源说话者，只有目标说话者是固定的(即多对一的转换)。但在最好的平行数据训练方法中，一个训练模型只能被用在特定的源说话者上（即一对一的转换）。</p>
<p>​ 本文的其余部分安排如下：第2节介绍了一个最优的依赖于并行训练数据的VC系统，将该系统作为我们的baseline。 第3节介绍了我们提出的使用PPG的VC方法。 第4节介绍了实验和我们建议的方法与baseline的比较，包括客观和主观方面。 第五部分总结了本文。</p>
<h3 id="基线系统">2. 基线系统</h3>
<blockquote>
<p>基于DBLSTM 使用平行训练数据VC</p>
</blockquote>
<h4 id="dblstm的基本框架">2.1 DBLSTM的基本框架</h4>
<p><img src="/images/0121_PPGforM2O/f1_architecture_DBLSTM.png" style="zoom:80%;" /></p>
<p>​ 如Fig.1. 所示，DBLSTM是一个序列到序列的映射模型。中间的部分和左右两边的部分(被分别记为t, t-1, t+1) 分别表示当前帧，前一帧和后一帧。图1中每一个正方形代表一个记忆块，包含自连接（self-connection）的存储单元（memory cell）和三个门单元（即输入、输出和忘记门forget gates），它们分别提供写入、读取和复位操作。此外，每一层的双向连接可以在前向和后向两个方向上充分利用上下文信息。</p>
<p>​ DBLSTM网络结构包含记忆块和循环连接，这使得它可以储存更长时间段的信息，并且学习最佳数量的上下文信息[5] [13]。</p>
<h4 id="训练阶段和转换阶段">2.2 训练阶段和转换阶段</h4>
<p>​ 基线方法被划分为训练阶段和转换阶段，如Fig. 2. 描述。</p>
<p><img src="/images/0121_PPGforM2O/f2_DBLSTM_parallel_data.png" /></p>
<p>​ 在<strong>训练阶段</strong>，使用STAIGHT[14]抽取谱包络（spectral envelope）。抽取Mel-cepstral coefficients（MCEPs）特征用来表示谱包络，之后将来自源语音和目标语音的MCEPs用动态时间规整（DTW）对齐。然后，将源语音和目标语音的MCEPs配对作为训练数据。通过时间反向传播（BPTT）来训练DBLSTM模型。</p>
<p>​ 在<strong>转换过程</strong>中，首先从一个源语句中抽取基频（fundamental frequwncy， F0），MCEPs 和 非周期成分(aperiodic component, AP) 。然后，转换语音的参数用如下方式生成：使用训练的DBLSTM模型映射MCEPs。<u>均衡源语和目标语的均值和标准差来转换 <span class="math inline">\(log F0\)</span></u> 。直接复制AP。最后，使用STRAIGHT vocoder来合成语音波形。</p>
<h4 id="限制">2.3 限制</h4>
<p>​ 尽管基于DBLSTM的方法具有良好的性能，但它有以下局限性：1）依赖于代价昂贵的并行训练数据；2）DTW(dynamic time warping)误差对VC输出质量的影响是不可避免的。</p>
<blockquote>
<p>对齐的误差</p>
</blockquote>
<h3 id="提议系统">3. 提议系统</h3>
<blockquote>
<p>使用PPGs的非平行数据VC</p>
</blockquote>
<p>​ 为了解决基线方法的一些限制，我们提出了一种基于PPGs的方法，来自SI-ASR系统的PPGs是可以连接不同说话者的(can bridge across speakers)。</p>
<p><img src="/images/0121_PPGforM2O/f3_vc_PPGs.png"  /></p>
<h4 id="概观">3.1 概观</h4>
<p>​ 如Fig.3描述，提议系统被分为三个阶段：训练阶段1, 训练阶段2, 转换阶段。SI-ASR模型用于获取输入语音的PPGs表示。训练阶段2对目标说话者PPGs与MCEPs之间的关系进行建模用于语音参数的生成。转化阶段使用来自源说话者的PPGs（来自相同的SI-ASR系统）来驱动训练好的DBLSTM模型进行声音转换。PPGs的计算和这三个阶段将在下面的小节中介绍。</p>
<h4 id="语音后验图ppgs">3.2 语音后验图（PPGs）</h4>
<blockquote>
<p>Phonetic PosteriorGrams</p>
</blockquote>
<p>​ PPG是一个时间与类别的矩阵，表示每一个语音类别(phonetic class)在一个语句的每一个特定时间帧对应的后验概率[11] [12] 。每一个语言类别可能指一个单词，音素或者senone。在这篇论文里，我们使用senone作为语音类别。Fig.4. 展示了&quot;particular case&quot; 语段的PPGs表示。<img src="/images/0121_PPGforM2O/f4_ppgs.png" style="zoom:67%;" /></p>
<p>​ 我们认为由SI-ASR获得的PPGs可以表示语音的清晰发音在正规化的说话者空间中，并且是独立于说话者对应于语音内容的。</p>
<h4 id="训练阶段1和2">3.3 训练阶段1和2</h4>
<p>​ 在<strong>训练阶段1</strong>中，使用多说话者的ASR语料对SI-ASR系统进行了PPG生成的训练。 通过一个语句的例子来说明这些方程。输入是<span class="math inline">\(t^{th}\)</span> frame 的MFCC feature vector，记作<span class="math inline">\(X_t\)</span> 。输出是后验概率的vector <span class="math inline">\(P_t = (p(s|X_t)|s = 1,2,...,C)\)</span>, 其中<span class="math inline">\(p(s|X_t)\)</span> 是指每一个语音类别<span class="math inline">\(s\)</span> 的后验概率。</p>
<p><img src="/images/0121_PPGforM2O/f5_train_DBLSTM.png" style="zoom:67%;" /></p>
<p>​ 如Fig5.所示，<strong>训练阶段2</strong>训练DBLSTM模型（语音参数生成模型）映射PPG与MCEPs序列之间的关系。对于已知的<u>目标说话者语句</u>，<span class="math inline">\(t\)</span> 是这个序列的帧索引（frame index）。输入是由已训练好的SI-ASR模型计算得到的PPG<span class="math inline">\((P_1, ..., P_t, ..., P_N)\)</span>。理想的输出层数值(the ideal value of output layer)是从<u>目标语音</u>抽取的MCEPs序列<span class="math inline">\((Y_1^T, ..., Y_t^T, ..., Y_N^T)\)</span> 。实际的输出值(actual value)是<span class="math inline">\((Y_1^R, ..., Y_t^R, ..., Y_N^R)\)</span> 。训练阶段2的损失函数是： <span class="math display">\[
min\sum_{t=1}^N ||Y_t^R - Y_t^T||^2
\]</span> ​ 该模型通过 2.中提到的BPTT（时间反向传播）技术训练以最小化cost finction。注意，DBLSTM模型仅使用目标说话人的MCEPs特征和与说话人无关的PPGs进行训练，而不使用任何其他linguistic information。</p>
<blockquote>
<p>训练2的训练数据都是来自target。</p>
</blockquote>
<h4 id="转换阶段">3.4 转换阶段</h4>
<p>​ 在转换阶段，对<span class="math inline">\(logF0\)</span>和AP的转换与基线方法相同。首先，获得被转换的MCEPs，抽取源语音的MFCC特征。第二步，通过输入MFCC特征到trained-SI-ASR模型获得PPGs。第三步，使用trained-DBLSTM模型将PPGs转换为MCEPs。最后，使用vocoder将converted-MCEPs，converted-logF0 和AP合成为输出语音。</p>
<blockquote>
<p>在转换阶段，将PPGs映射的结果取决于合成的模型需要什么特征。</p>
<p><strong>PPGs是作为一种 linguistic information</strong></p>
<p>这里PPGs被映射为MCEPs。</p>
<p>使用neual vocoder模型时PPGs被映射为谱。</p>
</blockquote>
<h3 id="实验">4. 实验</h3>
<h4 id="实验步骤">4.1 实验步骤</h4>
<p>​ 语音转换我们使用CMU ARCTIC语料库[16]作为数据。进行了性别内转换实验（male-to-male: BDL to RMS) ，跨性别转换实验（male-to-female：BDL to SLT）。基线方法使用了来自source和target的平行的语音，而我们提出的系统只使用target说话者的语音训练模型。</p>
<p>​ 信号以16kHZ单通道采样，25 ms加窗，每5 ms移位一次。声学特征（Acoustic features）, including <u>spectral envelope</u>, <u>F0 (1 dimension)</u> and <u>AP (513 dimensions)</u> 使用STRAIGHT analysis [14]抽取。提取39阶MCEPs和对数能量来表示谱包络。(The 39th order MCEPs plus log energy are extracted to represent the spectral envelope.)</p>
<blockquote>
<p>音频特征抽取和处理简述</p>
</blockquote>
<p>​ 两个系统的实现比较：</p>
<ul>
<li><p><strong>Baseline system:</strong> DBLSTM-based approach with parallel training data. Two tasks: male-to-male (M2M) conversion and male-to-female (M2F) conversion.</p></li>
<li><p><strong>Proposed PPGs system:</strong> Our proposed approach uses PPGs to augment the DBLSTM. Two tasks: male-to-male (M2M) conversion and male-to-female (M2F) conversion.</p></li>
</ul>
<p>​ 基于PPGs的方法中，使用Kaldi speech recognition toolkit [17]和TIMIT语料[18]来实现SI-ASR系统。这个系统有一个DNN架构由4个包含1024个单元的的隐藏层构成。Senones作为PPGs的语音类别（phonetic class）。<u>senone有131个，在训练阶段1中通过聚类得到。</u>SI-ASR模型训练的硬件配置是dual Intel Xeon E5-2640、8核，2.6GHZ。 训练时间约为11小时。</p>
<p>​ 然后，采用DBLSTM模型来映射PPG序列和MCEP序列的关系，以产生语音参数。 该实现基于machine learning library，CURRENNT [19]。 每层中的单元数分别为[131 64 64 64 64 39]，其中每个隐藏层包含一个前向LSTM层和一个后向LSTM层。 BPTT用于以<span class="math inline">\(1.0*10^{-6}\)</span> 的学习速度和0.9的动量(momentum)训练该模型。 NVIDIA Tesla K40 GPU加速了DBLSTM模型的训练过程，大约需要4个小时来训练100个句子。</p>
<p>​ 基于基线DBLSTM的方法具有相同的模型配置，只是其输入只有<u>39个维度（而不是131个维度）</u>。100句话的训练大约需要3个小时。</p>
<blockquote>
<p>39的话对应的应该是Phoneme</p>
</blockquote>
<h4 id="客观评价">4.2 客观评价</h4>
<blockquote>
<p>Mel-cepstral distortion (MCD)</p>
</blockquote>
<p>​ Mel-cepstral distortion(Mel倒谱失真)用于测量转换后的语音与目标语音的距离。MCD是转换语音MCEPs和目标语音MCEPs之间的欧氏距离，表示为 <span class="math display">\[
MCD[dB] = {\frac{10}{ln10}}\sqrt{2\sum_{d=1}^N (c_d - c_d^converted)^2}
\]</span> 这里N是MCEPs的维度（排除能量特征）。<span class="math inline">\(c_d\)</span>和<span class="math inline">\(c_d^converted\)</span> 分别是目标和转换后的MCEPs的d-<span class="math inline">\(th\)</span> 系数。</p>
<p>​ 为了探索training data size 的影响，所有系统都使用不同数量的训练数据进行了训练 —— 5、20、60、100和200个句子。 对于基线方法，训练数据由来自源说话者和目标说话者的平行句子对组成。 对于建议的方法，训练数据仅包含target speaker的句子。 测试数据集包含来自source speaker的80个句子。</p>
<p><img src="/images/0121_PPGforM2O/f6_f7_MCD.png" style="zoom:67%;" /></p>
<p>​ 图6和图7分别示出了male-to-male和male-female的实验结果。 如图所示，当训练大小为5、20和60个句子时，MCD值随着数据大小的增加而变小。 当训练量大于60个句子时，MCD值趋于收敛。 结果表明，就客观衡量而言，基线方法和提出方法具有相似的性能。</p>
<h4 id="主观评价">4.3 主观评价</h4>
<blockquote>
<p>Mean Opinion Score (MOS) test and an ABX preference test</p>
</blockquote>
<p>​ 我们进行了Mean Opinion Score（MOS）测试和ABX偏好测试（ABX preference test），作为主观评估，用于衡量转换后语音的自然性和说话人相似性。 每个系统使用100个句子进行训练，并随机选择10个句子（不在训练集中）进行测试。 要求21位参与者进行MOS测试和ABX测试。 https://sites.google.com/site/2016icme/中提供了这两个测试的问卷以及一些示例。</p>
<p>​ 在MOS测试中，要求听众以5分制来对转换后的语音的naturalness和clearness进行评分。 MOS测试的结果如图8所示。基线和建议的基于PPG的方法的平均得分分别为3.20和3.87。</p>
<p><img src="/images/0121_PPGforM2O/f8_MOS.png" style="zoom:67%;" /></p>
<p>​ 在ABX偏好测试中，听者被要求选择转换的语句A或B（由两种方法生成）哪一个更像目标的录音<span class="math inline">\(X\)</span>，或是没有偏好（觉得差不多的意思）。A和B的每一对都被洗牌以避免优先偏好（preferential bias）。如图9所示，基于PPGs的方法通常优于基线方法。</p>
<p><img src="/images/0121_PPGforM2O/f9_ABX.png" style="zoom:67%;" /></p>
<p>​ MOS测试和ABX测试结果表明，基于PPGs的方法在语音质量和说话人相似度方面都优于基线方法。可能的原因包括：1）提出的基于PPGs的方法不需要对齐（如DTW），避免了可能的对齐误差带来的影响；2）提出方法的DBLSTM模型仅使用说话人归一化 (speaker-normalized) PPGs和目标说话人(target speaker)的声学特征进行训练。这样可以最大限度地减少来自源说话者(source speaker)信号的干扰.</p>
<h3 id="总结">5. 总结</h3>
<p>​ 本文提出了一种基于PPGs的非并行数据语音转换方法。PPG由一个SI-ASR模型获得，用于在源扬声器和目标扬声器之间架起桥梁。PPGs与声学特征的关系由DBLSTM结构建模。我们所提出的方法不需要并行训练数据，并且对于多对一转换非常灵活，与使用并行数据的语音转换（VC）的方法相比，这是提出方法的两个主要优点。实验表明，该方法提高了转换语音的自然度和与目标语音的相似度。</p>
<p>​ 我们还尝试将所提出的模型应用到跨语言VC中，并取得了一些良好的初步结果。今后将对跨语言应用进行更多的研究。</p>
<h3 id="acknowledgements">6. ACKNOWLEDGEMENTS</h3>
<p>The work is partially supported by a grant from the HKSAR Government’s General Research Fund (Project Number: 14205814)</p>
<h3 id="references">7. REFERENCES</h3>
<p>[1] Y. Stylianou, O. Capp ́ e, and E. Moulines, “Continuous</p>
<p>probabilistic transform for voice conversion,” IEEE</p>
<p>Transactions on Speech and Audio Processing, vol. 6,</p>
<p>no. 2, pp. 131–142, 1998.</p>
<p>[2] T. Toda, A. W. Black, and K. Tokuda, “Voice conversion</p>
<p>based on maximum-likelihood estimation of spectral</p>
<p>parameter trajectory,” IEEE Transactions on Audio,</p>
<p>Speech, and Language Processing, vol. 15, no. 8, pp.</p>
<p>2222–2235, 2007.</p>
<p>[3] Z. Wu, T. Virtanen, T. Kinnunen, E. S. Chng, and H. Li,</p>
<p>“Exemplar-based voice conversion using non-negative</p>
<p>spectrogram deconvolution,” in Proc. 8th ISCA Speech</p>
<p>Synthesis Workshop, 2013.</p>
<p>[4] T. Nakashika, R. Takashima, T. Takiguchi, and Y. Ariki,</p>
<p>“Voice conversion in high-order eigen space using Deep</p>
<p>Belief Nets,” inProc. Interspeech, 2013.</p>
<p>[5] L. Sun, S. Kang, K. Li, and H. Meng, “Voice conversion</p>
<p>using deep bidirectional Long Short-Term Memory</p>
<p>based Recurrent Neural Networks,” in Proc. ICASSP,</p>
<ol start="2015" type="1">
<li></li>
</ol>
<p>[6] D. Erro, A. Moreno, and A. Bonafonte, “INCA al-</p>
<p>gorithm for training voice conversion systems from</p>
<p>nonparallel corpora,” IEEE Transactions on Audio,</p>
<p>Speech, and Language Processing, vol. 18, no. 5, pp.</p>
<p>944–953, 2010.</p>
<p>[7] J. Tao, M. Zhang, J. Nurminen, J. Tian, and X. Wang,</p>
<p>“Supervisory data alignment for text-independent voice</p>
<p>conversion,” IEEE Transactions on Audio, Speech, and</p>
<p>Language Processing, vol. 18, no. 5, pp. 932–943, 2010.</p>
<p>[8] H. Sil ́ en, J. Nurminen, E. Helander, and M. Gabbouj,</p>
<p>“Voice conversion for non-parallel datasets using dy-</p>
<p>namic kernel partial least squares regression,” Conver-</p>
<p>gence, vol. 1, p. 2, 2013.</p>
<p>[9] H. Benisty, D. Malah, and K. Crammer, “Non-parallel</p>
<p>voice conversion using joint optimization of alignment</p>
<p>by temporal context and spectral distortion,” in Proc.</p>
<p>ICASSP, 2014.</p>
<p>[10] S. Aryal and R. Gutierrez-Osuna, “Articulatory-based</p>
<p>conversion of foreign accents with Deep Neural Net-</p>
<p>works,” inProc. Interspeech, 2015.</p>
<p>[11] T. J. Hazen, W. Shen, and C. White, “Query-by-example</p>
<p>spoken term detection using phonetic posteriorgram</p>
<p>templates,” inProc. ASRU, 2009.</p>
<p>[12] K. Kintzley, A. Jansen, and H. Hermansky, “Event</p>
<p>selection from phone posteriorgrams using matched</p>
<p>filters,” inProc. Interspeech, 2011.</p>
<p>[13] M. Wollmer, Z. Zhang, F. Weninger, B. Schuller,</p>
<p>and G. Rigoll, “Feature enhancement by bidirectional</p>
<p>LSTM networks for conversational speech recognition</p>
<p>in highly non-stationary noise,” inProc. ICASSP, 2013.</p>
<p>[14] H. Kawahara, I. Masuda-Katsuse, and A. de Cheveign ́ e,</p>
<p>“Restructuring speech representations using a</p>
<p>pitch-adaptive time–frequency smoothing and an</p>
<p>instantaneous-frequency-based F0 extraction: Possible</p>
<p>role of a repetitive structure in sounds,” Speech</p>
<p>communication, vol. 27, no. 3, pp. 187–207, 1999.</p>
<p>[15] S. Imai, “Cepstral analysis synthesis on the mel frequen-</p>
<p>cy scale,” inProc. ICASSP, 1983.</p>
<p>[16] J. Kominek and A. W. Black, “The CMU Arctic</p>
<p>speech databases,” in Fifth ISCA Workshop on Speech</p>
<p>Synthesis, 2004.</p>
<p>[17] D. Povey, A. Ghoshal, G. Boulianne, L. Burget,</p>
<p>O. Glembek, N. Goel, M. Hannemann, P. Motlicek,</p>
<p>Y. Qian, P. Schwarz, J. Silovsky, G. Stemmer, and</p>
<p>K. Vesely, “The Kaldi speech recognition Toolkit,” Dec.</p>
<ol start="2011" type="1">
<li></li>
</ol>
<p>[18] J. Garofolo, L. Lamel, W. Fisher, J. Fiscus, D. Pallett,</p>
<p>N. Dahlgren, and V. Zue, “TIMIT acoustic-phonetic</p>
<p>continuous speech corpus,” 1993.</p>
<p>[19] F. Weninger, J. Bergmann, and B. Schuller, “Introducing</p>
<p>CURRENNT: the Munich open-source CUDA Recur-</p>
<p>REnt Neural Network Toolkit,” Journal of Machine</p>
<p>Learning Research, vol. 16, pp. 547–551, 2015.</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/PPGs/" rel="tag"># PPGs</a>
              <a href="/tags/voice-conversion/" rel="tag"># voice conversion</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/01/17/Foreign%20Accent%20Conversion%20by%20Synthesizing%20Speech%20%20from%20Phonetic%20Posteriorgrams/" rel="prev" title="Foreign Accent Conversion by Synthesizing Speech  from Phonetic Posteriorgrams 2019">
      <i class="fa fa-chevron-left"></i> Foreign Accent Conversion by Synthesizing Speech  from Phonetic Posteriorgrams 2019
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#phonetic-posteriorgrams-for-many-to-one-voice-conversion-without-parallel-data-training"><span class="nav-text">PHONETIC POSTERIORGRAMS FOR MANY-TO-ONE VOICE CONVERSION WITHOUT PARALLEL DATA TRAINING</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#摘要"><span class="nav-text">0. 摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#图片"><span class="nav-text">00. 图片</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#概述"><span class="nav-text">1. 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基线系统"><span class="nav-text">2. 基线系统</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#dblstm的基本框架"><span class="nav-text">2.1 DBLSTM的基本框架</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#训练阶段和转换阶段"><span class="nav-text">2.2 训练阶段和转换阶段</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#限制"><span class="nav-text">2.3 限制</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#提议系统"><span class="nav-text">3. 提议系统</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#概观"><span class="nav-text">3.1 概观</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#语音后验图ppgs"><span class="nav-text">3.2 语音后验图（PPGs）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#训练阶段1和2"><span class="nav-text">3.3 训练阶段1和2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#转换阶段"><span class="nav-text">3.4 转换阶段</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实验"><span class="nav-text">4. 实验</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#实验步骤"><span class="nav-text">4.1 实验步骤</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#客观评价"><span class="nav-text">4.2 客观评价</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#主观评价"><span class="nav-text">4.3 主观评价</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#总结"><span class="nav-text">5. 总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#acknowledgements"><span class="nav-text">6. ACKNOWLEDGEMENTS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#references"><span class="nav-text">7. REFERENCES</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Fuu"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Fuu</p>
  <div class="site-description" itemprop="description">Don't be afraid !</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">4</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/seiifuu" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;seiifuu" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:fuuseii1222@gmail.com" title="E-Mail → mailto:fuuseii1222@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/1694010823" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;1694010823" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i></a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Fuu</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.getAttribute('pjax') !== null) {
      element.setAttribute('pjax', '');
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  
      
<script type="text/x-mathjax-config">
    MathJax.Ajax.config.path['mhchem'] = '//cdn.jsdelivr.net/npm/mathjax-mhchem@3';

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        extensions: ['[mhchem]/mhchem.js'],
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    

  

    </div>
</body>
</html>
